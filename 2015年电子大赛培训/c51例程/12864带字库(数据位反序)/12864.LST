C51 COMPILER V9.01   12864                                                                 05/24/2015 11:27:02 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE 12864
OBJECT MODULE PLACED IN 12864.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE 12864.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /*******************************************************************************
   2          *  描述:                                                                       *
   3          *      12864标准字库液晶演示 数据p0,控制p2  
   4          *
   5          *     LCD_PIN4(RS)     P2.6
   6          *         LCD_PIN5(RW)     P2.5
   7          *     LCD_PIN6(E)      P2.7                                     
   8          *
   9          *         LCD_PIN15(PSB)   P3.2
  10          *         LCD_PIN16(NC)    P3.3
  11          *         LCD_PIN17(RST)   P3.4
  12          ********************************************************************************/
  13          #include <reg51.h>
  14          #include <intrins.h>
  15          #define uchar unsigned char
  16          #define uint  unsigned int
  17          /************* 12864LCD引脚定义 *************/
  18          #define LCD_data  P0       //数据口
  19          sbit LCD_RS  =  P3^4;      //寄存器选择输入 
  20          sbit LCD_RW  =  P3^3;      //液晶读/写控制
  21          sbit LCD_EN  =  P3^2;      //液晶使能控制
  22          sbit LCD_PSB =  P2^7;      //串/并方式控制
  23          //sbit LCD_RST =  P2^6;      //液晶复位端口
  24          
  25          
  26          #define delayNOP(); {_nop_();_nop_();_nop_();_nop_();};
  27          /*********************************************************/
  28          uchar code  DIS1[] = {"  中国海洋大学  "};
  29          uchar code  DIS2[] = {"进入单片机世界  "};
  30          uchar code  DIS3[] = {" www.ouc.edu.cn "};
  31          uchar code  DIS4[] = {"TEL:755-29325187"};
  32          /*********************************************************/
  33          uchar code Photo1[] ={
  34                0x00,0x00,0x00,0x04,0x00,0x00,0x00,0x00,
  35                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  36                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  37                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  38                0x00,0x00,0x00,0x00,0x00,0x01,0x3F,0xC0,
  39                0x80,0x42,0x04,0x20,0x00,0x00,0x00,0x00,
  40                0x00,0x00,0x00,0x00,0x00,0x00,0x8A,0x1F,
  41                0xFC,0x42,0x04,0xF8,0x00,0x00,0x00,0x00,
  42                0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x80,
  43                0x01,0xFF,0xDE,0x88,0x00,0x00,0x00,0x00,
  44                0x00,0x00,0x00,0x00,0x00,0x01,0x2A,0x87,
  45                0xF0,0xA2,0x0A,0xF8,0x00,0x00,0x00,0x00,
  46                0x00,0x00,0x00,0x00,0x00,0x00,0xBF,0x84,
  47                0x10,0xA2,0x0A,0x88,0x00,0x00,0x00,0x00,
  48                0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x1F,
  49                0xFC,0xA2,0x0A,0xF8,0x00,0x00,0x00,0x00,
  50                0x00,0x00,0x00,0x00,0x00,0x00,0x9F,0x90,
  51                0x05,0x2F,0xCA,0xA4,0x00,0x00,0x00,0x00,
  52                0x00,0x00,0x00,0x00,0x00,0x01,0x80,0x03,
  53                0xE1,0xA8,0x4A,0xA8,0x00,0x00,0x00,0x00,
  54                0x00,0x00,0x00,0x00,0x00,0x00,0xBF,0xC2,
  55                0x24,0x48,0x44,0x90,0x00,0x00,0x00,0x00,
C51 COMPILER V9.01   12864                                                                 05/24/2015 11:27:02 PAGE 2   

  56                0x00,0x00,0x00,0x00,0x00,0x00,0x92,0x84,
  57                0x24,0xA8,0x4A,0xA8,0x00,0x00,0x00,0x00,
  58                0x00,0x00,0x00,0x00,0x00,0x00,0xA6,0x58,
  59                0x3D,0x0F,0xD0,0xC4,0x00,0x00,0x00,0x00,
  60                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  61                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  62                0x00,0x1C,0xFF,0xC0,0x00,0x00,0x00,0x00,
  63                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  64                0x00,0x23,0x08,0x37,0x80,0x00,0x00,0x00,
  65                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  66                0x00,0x40,0x10,0x08,0x40,0x00,0xFF,0x90,
  67                0x10,0x08,0x00,0x00,0x00,0x00,0x00,0x00,
  68                0x00,0x81,0x86,0x10,0x40,0x00,0x08,0x08,
  69                0x10,0xFF,0x86,0x00,0x00,0x00,0x00,0x00,
  70                0x01,0x02,0x49,0x40,0x40,0x00,0x7F,0x0B,
  71                0xFC,0x08,0x0F,0x00,0x00,0x00,0x00,0x00,
  72                0x01,0x08,0x00,0x40,0x20,0x00,0x10,0x00,
  73                0x10,0x49,0x0F,0x00,0x00,0x00,0x00,0x00,
  74                0x02,0x08,0x00,0x20,0x20,0x01,0xFF,0xDD,
  75                0x10,0x2A,0x0F,0x00,0x00,0x00,0x00,0x00,
  76                0x04,0x31,0x83,0x20,0x20,0x00,0x20,0x04,
  77                0x91,0xFF,0xC6,0x00,0x00,0x00,0x00,0x00,
  78                0x04,0x52,0x44,0x90,0x20,0x00,0x7F,0x04,
  79                0x90,0x1C,0x06,0x00,0x00,0x00,0x00,0x00,
  80                0x09,0xA4,0x28,0x4C,0x10,0x00,0xA1,0x04,
  81                0x10,0x2A,0x00,0x00,0x00,0x00,0x00,0x00,
  82                0x0E,0x44,0xE9,0xC3,0x90,0x01,0x3F,0x04,
  83                0x70,0x49,0x06,0x00,0x00,0x00,0x00,0x00,
  84                0x00,0x82,0xC5,0x81,0x70,0x00,0x21,0x0A,
  85                0x01,0x88,0xC6,0x00,0x00,0x00,0x00,0x00,
  86                0x01,0x01,0x83,0x00,0x80,0x00,0x3F,0x11,
  87                0xFC,0x08,0x00,0x00,0x00,0x00,0x00,0x00,
  88                0x01,0x0C,0x70,0x00,0x80,0x00,0x00,0x00,
  89                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  90                0x02,0x13,0x87,0x10,0x40,0x00,0x00,0x00,
  91                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  92                0x02,0x20,0x78,0xA0,0x40,0x00,0x00,0x00,
  93                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  94                0x02,0x20,0x00,0x60,0x40,0x00,0x00,0x00,
  95                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  96                0x02,0x21,0x80,0x60,0x40,0x00,0x00,0x71,
  97                0xEE,0x3C,0x00,0x00,0x00,0x00,0x00,0x00,
  98                0x01,0x11,0x98,0x90,0x80,0x00,0x00,0x8E,
  99                0x31,0xC6,0x00,0x00,0x00,0x00,0x00,0x00,
 100                0x01,0x08,0x18,0x80,0x80,0x00,0x01,0x24,
 101                0x24,0x83,0x00,0x00,0x00,0x00,0x00,0x00,
 102                0x00,0x96,0x01,0x01,0x00,0x00,0x01,0x40,
 103                0x28,0x03,0x00,0x00,0x00,0x00,0x00,0x00,
 104                0x00,0x49,0x86,0x03,0x00,0x00,0x01,0x40,
 105                0x28,0x03,0x00,0x00,0x00,0x00,0x00,0x00,
 106                0x00,0x34,0x78,0x8C,0x00,0x00,0x01,0x00,
 107                0x20,0x03,0x00,0x00,0x00,0x00,0x00,0x00,
 108                0x00,0x0E,0x01,0x30,0x00,0x00,0x00,0x80,
 109                0x30,0x06,0x00,0x00,0x00,0x00,0x00,0x00,
 110                0x00,0x71,0x87,0xCE,0x00,0x00,0x00,0x40,
 111                0x68,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,
 112                0x00,0xE0,0x78,0x07,0x00,0x00,0x00,0x20,
 113                0xC4,0x18,0x00,0x00,0x00,0x00,0x00,0x00,
 114                0x01,0xAF,0xFF,0xC5,0x80,0x00,0x00,0x11,
 115                0x82,0x30,0x00,0x00,0x00,0x00,0x00,0x00,
 116                0x03,0xA9,0xB6,0x45,0xC0,0x00,0x00,0x0B,
 117                0x01,0x60,0x00,0x00,0x00,0x00,0x00,0x00,
C51 COMPILER V9.01   12864                                                                 05/24/2015 11:27:02 PAGE 3   

 118                0x07,0x2F,0x03,0xC4,0xE0,0x00,0x00,0x06,
 119                0x00,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,
 120                0x0E,0x16,0x01,0x88,0x70,0x00,0x00,0x00,
 121                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 122                0x0F,0x08,0x00,0x10,0xF0,0x00,0x00,0x00,
 123                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 124                0x0F,0x84,0x00,0x21,0xF0,0x00,0x00,0x00,
 125                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 126                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 127                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 128                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 129                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 130                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 131                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 132                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 133                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 134                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 135                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 136                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 137                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 138                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 139                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 140                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 141                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 142                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 143                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 144                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 145                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 146                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 147                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 148                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 149                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 150                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 151                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 152                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 153                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 154                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 155                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 156                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 157                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 158                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 159                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 160                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 161                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
 162          };
 163          /******************************************************************************/
 164          uchar code Photo2[] ={
 165          /*--  调入了一幅图像：C:\Users\Administrator\Pictures\青岛.bmp  --*/
 166          /*--  宽度x高度=128x64  --*/
 167          0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xFE,0x00,0x00,0x00,0x00,0x00,
 168          0x00,0x00,0x00,0x00,0x1F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xE0,0x00,0x00,0x00,0x00,
 169          0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFE,0x00,0x00,0x00,0x00,
 170          0x00,0x00,0x00,0x1F,0xFF,0xFF,0xF8,0x00,0x00,0x7F,0xFF,0xFF,0xE0,0x00,0x00,0x00,
 171          0x00,0x00,0x00,0x7F,0xFF,0xF8,0x00,0x00,0x00,0x00,0x7F,0xFF,0xF8,0x00,0x00,0x00,
 172          0x00,0x00,0x03,0xFF,0xFE,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0x00,0x00,0x00,
 173          0x00,0x00,0x0F,0xFF,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0xFF,0xC0,0x00,0x00,
 174          0x00,0x00,0x3F,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xFF,0xF0,0x00,0x00,
 175          0x00,0x00,0xFF,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0xFC,0x00,0x00,
 176          0x00,0x03,0xFF,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0xFF,0x00,0x00,
 177          0x00,0x07,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xC0,0x00,
 178          0x00,0x1F,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0xE0,0x00,
 179          0x00,0x3F,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0xF0,0x00,
C51 COMPILER V9.01   12864                                                                 05/24/2015 11:27:02 PAGE 4   

 180          0x00,0xFF,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xE0,0x00,0x07,0xFC,0x00,
 181          0x01,0xFF,0x00,0x00,0x00,0x03,0xF0,0x00,0x00,0x00,0x07,0xE0,0x00,0x01,0xFE,0x00,
 182          0x03,0xFC,0x00,0x00,0x00,0x01,0xE0,0x00,0x00,0x00,0x07,0xC0,0x00,0x00,0xFF,0x00,
 183          0x07,0xF8,0x00,0x00,0x00,0x03,0xE0,0x00,0x00,0x00,0x0F,0x00,0x00,0x00,0x7F,0x80,
 184          0x0F,0xE0,0x00,0x00,0x00,0x03,0xFF,0x00,0x00,0x00,0x1E,0x00,0x00,0x00,0x1F,0xC0,
 185          0x1F,0xC0,0x00,0x00,0x00,0x3F,0xFC,0x00,0x00,0x00,0x38,0x70,0x00,0x00,0x0F,0xE0,
 186          0x1F,0x80,0x00,0x00,0x01,0xFF,0xC0,0x00,0x00,0x07,0xFF,0xFC,0x00,0x00,0x07,0xF0,
 187          0x3F,0x00,0x00,0x00,0x00,0x07,0x80,0x00,0x00,0x07,0xFC,0xFC,0x00,0x00,0x03,0xF0,
 188          0x7E,0x00,0x00,0x00,0x00,0x07,0xFC,0x00,0x00,0x07,0x80,0xF8,0x00,0x00,0x01,0xF8,
 189          0x7E,0x00,0x00,0x00,0x00,0xFF,0xE0,0x00,0x00,0x07,0xFC,0xF0,0x00,0x00,0x00,0xF8,
 190          0xFC,0x00,0x00,0x00,0x01,0xFF,0x00,0x00,0x00,0x07,0xFD,0xF0,0x00,0x00,0x00,0xFC,
 191          0xF8,0x00,0x00,0x00,0x00,0x0F,0x03,0xF8,0x00,0x0F,0x3D,0xE0,0x00,0x00,0x00,0x7C,
 192          0xF8,0x00,0x00,0x00,0x00,0x1F,0xFF,0xFE,0x00,0x0F,0x03,0xE0,0x00,0x00,0x00,0x7E,
 193          0xF0,0x00,0x00,0x00,0x03,0xFF,0xE0,0x00,0x00,0x0E,0x07,0xC0,0x00,0x00,0x00,0x3E,
 194          0xF0,0x00,0x00,0x07,0xFF,0xE0,0x00,0x00,0x00,0x1E,0x3F,0xC0,0x00,0x00,0x00,0x3E,
 195          0xF0,0x00,0x00,0x07,0xF8,0x03,0xC0,0x00,0x00,0x1E,0x0F,0x80,0x00,0x00,0x00,0x3F,
 196          0xE0,0x00,0x00,0x00,0x00,0x1F,0xF0,0x00,0x00,0x3C,0x0F,0x3E,0x00,0x00,0x00,0x1F,
 197          0xE0,0x00,0x00,0x00,0x07,0xF9,0xF0,0x00,0x00,0x3C,0x0F,0xFF,0x00,0x00,0x00,0x1F,
 198          0xE0,0x00,0x00,0x00,0x07,0x81,0xE0,0x00,0x00,0x7F,0xFF,0xFF,0x80,0x00,0x00,0x1F,
 199          0xE0,0x00,0x00,0x00,0x07,0x83,0xE0,0x00,0x00,0x7F,0x00,0x1F,0x80,0x00,0x00,0x1F,
 200          0xE0,0x00,0x00,0x00,0x0F,0xFF,0xE0,0x00,0x00,0x3E,0x00,0x1F,0x00,0x00,0x00,0x1F,
 201          0xE0,0x00,0x00,0x00,0x0F,0x03,0xC0,0x00,0x00,0x1F,0x00,0x3E,0x00,0x00,0x00,0x1F,
 202          0xF0,0x00,0x00,0x00,0x1E,0x03,0xC0,0x00,0x00,0x1E,0x00,0x3E,0x00,0x00,0x00,0x1F,
 203          0xF0,0x00,0x00,0x00,0x1E,0xFF,0xC0,0x00,0x0F,0x1E,0x78,0x7C,0x00,0x00,0x00,0x3E,
 204          0xF0,0x00,0x00,0x00,0x3F,0xF7,0xC0,0x00,0x0F,0x3C,0xF8,0x7C,0x00,0x00,0x00,0x3E,
 205          0xF8,0x00,0x00,0x00,0x3C,0x07,0x80,0x00,0x1E,0x3C,0xF8,0xF8,0x00,0x00,0x00,0x7E,
 206          0xF8,0x00,0x00,0x00,0x78,0x0F,0x80,0x00,0x1E,0x3D,0xF0,0xF8,0x00,0x00,0x00,0x7E,
 207          0xFC,0x00,0x00,0x00,0xF8,0x0F,0x80,0x00,0x3E,0xFF,0xF1,0xF0,0x00,0x00,0x00,0xFC,
 208          0x7E,0x00,0x00,0x00,0xF0,0x1F,0x00,0x00,0x3F,0xF1,0xE3,0xE0,0x00,0x00,0x00,0xF8,
 209          0x7E,0x00,0x00,0x01,0xF0,0xFF,0x00,0x00,0x7E,0x01,0xFF,0xE0,0x00,0x00,0x01,0xF8,
 210          0x3F,0x00,0x00,0x01,0xE0,0x7E,0x00,0x00,0x78,0x00,0x3F,0xC0,0x00,0x00,0x03,0xF0,
 211          0x1F,0x80,0x00,0x01,0xC0,0x3C,0x00,0x00,0x00,0x00,0x3F,0x80,0x00,0x00,0x07,0xF0,
 212          0x1F,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x00,0x00,0x00,0x0F,0xE0,
 213          0x0F,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3E,0x00,0x00,0x00,0x1F,0xC0,
 214          0x07,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x80,
 215          0x03,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,
 216          0x01,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFE,0x00,
 217          0x00,0xFF,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0xFC,0x00,
 218          0x00,0x3F,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0xF8,0x00,
 219          0x00,0x1F,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0xE0,0x00,
 220          0x00,0x0F,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xC0,0x00,
 221          0x00,0x03,0xFF,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0xFF,0x00,0x00,
 222          0x00,0x00,0xFF,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0xFC,0x00,0x00,
 223          0x00,0x00,0x3F,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xF0,0x00,0x00,
 224          0x00,0x00,0x0F,0xFF,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0xFF,0xC0,0x00,0x00,
 225          0x00,0x00,0x03,0xFF,0xFE,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0x00,0x00,0x00,
 226          0x00,0x00,0x00,0x7F,0xFF,0xF8,0x00,0x00,0x00,0x00,0x7F,0xFF,0xFC,0x00,0x00,0x00,
 227          0x00,0x00,0x00,0x1F,0xFF,0xFF,0xF0,0x00,0x00,0x3F,0xFF,0xFF,0xE0,0x00,0x00,0x00,
 228          0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFE,0x00,0x00,0x00,0x00,
 229          0x00,0x00,0x00,0x00,0x1F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF0,0x00,0x00,0x00,0x00,
 230          0x00,0x00,0x00,0x00,0x03,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00
 231          
 232          };
 233          /*******************************************************************/
 234          /*                                                                 */
 235          /*  延时函数                                                       */
 236          /*                                                                 */
 237          /*******************************************************************/
 238          void delay(int ms)
 239          {
 240   1          while(ms--)
 241   1              {
C51 COMPILER V9.01   12864                                                                 05/24/2015 11:27:02 PAGE 5   

 242   2            uchar i;
 243   2                for(i=0;i<150;i++)  
 244   2                 {
 245   3                  _nop_();                       
 246   3                      _nop_();
 247   3                      _nop_();
 248   3                      _nop_();
 249   3                 }
 250   2              }
 251   1      }       
 252          /*******************************************************************/
 253          /*                                                                 */
 254          /*  延时函数                                                       */
 255          /*                                                                 */
 256          /*******************************************************************/
 257          void delay1(int ms)
 258          {
 259   1          while(ms--)
 260   1              {
 261   2            uchar y;
 262   2                for(y=0;y<100;y++) ; 
 263   2              }
 264   1      }                       
 265          /*******************************************************************/
 266          /*                                                                 */
 267          /*检查LCD忙状态                                                    */
 268          /*lcd_busy为1时，忙，等待。lcd-busy为0时,闲，可写指令与数据。      */
 269          /*                                                                 */
 270          /*******************************************************************/
 271          bit lcd_busy()
 272           {                          
 273   1          bit result;
 274   1          LCD_RS = 0;
 275   1          LCD_RW = 1;
 276   1          LCD_EN = 1;
 277   1          delayNOP();
 278   1          result = (bit)(P0&0x01);
 279   1          LCD_EN = 0;
 280   1          return(result); 
 281   1       }
 282          /**************************************************************/
 283          /*                                                            */
 284          /*  数据反序                                                  */
 285          /*                                                            */
 286          /**************************************************************/
 287          uchar change(uchar dat)
 288          {  
 289   1          uchar x=0,y=0;
 290   1              uchar i;
 291   1              x=dat;
 292   1              for(i=0;i<8;i++)
 293   1              {
 294   2                  y=y>>1;
 295   2                      if((dat & 0x80)!=0)
 296   2                      {
 297   3                              y = y+0x80;
 298   3                      }
 299   2                      dat = dat<<1;
 300   2              }                        
 301   1              return y;
 302   1      }
 303          
C51 COMPILER V9.01   12864                                                                 05/24/2015 11:27:02 PAGE 6   

 304          /*******************************************************************/
 305          /*                                                                 */
 306          /*写指令数据到LCD                                                  */
 307          /*RS=L，RW=L，E=高脉冲，D0-D7=指令码。                             */
 308          /*                                                                 */
 309          /*******************************************************************/
 310          void lcd_wcmd(uchar cmd)
 311          {                          
 312   1         while(lcd_busy());
 313   1          LCD_RS = 0;
 314   1          LCD_RW = 0;
 315   1          LCD_EN = 0;
 316   1          _nop_();
 317   1          _nop_(); 
 318   1          P0 = change(cmd);
 319   1          delayNOP();
 320   1          LCD_EN = 1;
 321   1          delayNOP();
 322   1          LCD_EN = 0;  
 323   1      }
 324          /*******************************************************************/
 325          /*                                                                 */
 326          /*写显示数据到LCD                                                  */
 327          /*RS=H，RW=L，E=高脉冲，D0-D7=数据。                               */
 328          /*                                                                 */
 329          /*******************************************************************/
 330          void lcd_wdat(uchar dat)
 331          {                          
 332   1         while(lcd_busy());
 333   1          LCD_RS = 1;
 334   1          LCD_RW = 0;
 335   1          LCD_EN = 0;
 336   1          P0 = change(dat);
 337   1          delayNOP();
 338   1          LCD_EN = 1;
 339   1          delayNOP();
 340   1          LCD_EN = 0; 
 341   1      }
 342          /*******************************************************************/
 343          /*                                                                 */
 344          /*  LCD初始化设定                                                  */
 345          /*                                                                 */
 346          /*******************************************************************/
 347          void lcd_init()
 348          { 
 349   1          LCD_PSB = 1;         //并口方式
 350   1          
 351   1      //      LCD_RST = 0;             //液晶复位
 352   1      //    delay(3);                   
 353   1      //   LCD_RST = 1;      
 354   1      //    delay(3);
 355   1          
 356   1          lcd_wcmd(0x34);      //扩充指令操作
 357   1          delay(5);
 358   1          lcd_wcmd(0x30);      //基本指令操作
 359   1          delay(5);
 360   1          lcd_wcmd(0x0c);      //显示开，关光标
 361   1          delay(5);
 362   1          lcd_wcmd(0x01);      //清除LCD的显示内容
 363   1          delay(5);
 364   1      }
 365          /*********************************************************/
C51 COMPILER V9.01   12864                                                                 05/24/2015 11:27:02 PAGE 7   

 366          /*                                                       */
 367          /* 设定显示位置                                          */
 368          /*                                                       */
 369          /*********************************************************/
 370          void lcd_pos(uchar X,uchar Y)
 371          {                          
 372   1         uchar  pos;
 373   1         if (X==1)
 374   1           {X=0x80;}
 375   1         else if (X==2)
 376   1           {X=0x90;}
 377   1         else if (X==3)
 378   1           {X=0x88;}
 379   1         else if (X==4)
 380   1           {X=0x98;}
 381   1         pos = X+Y ; 
 382   1       
 383   1         lcd_wcmd(pos);     //显示地址
 384   1      }
 385          /*********************************************************
 386          *                                                        *
 387          * 闪烁函数                                               *
 388          *                                                        *
 389          *********************************************************/
 390          void lcdflag() 
 391          {
 392   1         lcd_wcmd(0x08);   
 393   1         delay(400);
 394   1         lcd_wcmd(0x0c);   
 395   1         delay(400);
 396   1         lcd_wcmd(0x08);   
 397   1         delay(400);
 398   1         lcd_wcmd(0x0c);   
 399   1         delay(400);
 400   1         lcd_wcmd(0x08);   
 401   1         delay(200); 
 402   1         lcd_wcmd(0x0c);   
 403   1         delay(5);
 404   1         lcd_wcmd(0x01);   
 405   1         delay(5);
 406   1      }
 407          /*********************************************************
 408          *                                                        *
 409          * 图形显示                                               *
 410          *                                                        *
 411          *********************************************************/
 412          void photodisplay(uchar *bmp)   
 413          { 
 414   1        uchar i,j;
 415   1      
 416   1        lcd_wcmd(0x36);        //写数据时,关闭图形显示
 417   1      
 418   1        for(i=0;i<32;i++)
 419   1        {
 420   2          lcd_wcmd(0x80+i);    //先写入水平坐标值
 421   2          lcd_wcmd(0x80);      //写入垂直坐标值
 422   2          for(j=0;j<16;j++)   //再写入两个8位元的数据    
 423   2          lcd_wdat(*bmp++);     
 424   2          delay1(100);
 425   2        }
 426   1      
 427   1        for(i=0;i<32;i++)
C51 COMPILER V9.01   12864                                                                 05/24/2015 11:27:02 PAGE 8   

 428   1        { 
 429   2          lcd_wcmd(0x80+i);
 430   2          lcd_wcmd(0x88);
 431   2          for(j=0;j<16;j++)         
 432   2              lcd_wdat(*bmp++);    
 433   2              delay1(100);
 434   2        }
 435   1        lcd_wcmd(0x36);       //写完数据,开图形显示 
 436   1      }
 437          /*********************************************************
 438          *                                                        *
 439          * 清屏函数                                               *
 440          *                                                        *
 441          *********************************************************/
 442          void  clr_screen()
 443          {
 444   1         lcd_wcmd(0x34);      //扩充指令操作
 445   1         delay(5);    
 446   1         lcd_wcmd(0x30);      //基本指令操作
 447   1         delay(5); 
 448   1         lcd_wcmd(0x01);      //清屏 
 449   1         delay(5);     
 450   1      }
 451          /**********************************************************
 452          ; 显示字符表代码
 453          **********************************************************/
 454          void  bytecode()
 455          {
 456   1         uchar  s;
 457   1         clr_screen();          //清屏    
 458   1         lcd_wcmd(0x80);        //设置显示位置为第一行  
 459   1         for(s=0;s<16;s++)
 460   1         {
 461   2           lcd_wdat(0x30+s); 
 462   2         }
 463   1         lcd_wcmd(0x90);        //设置显示位置为第二行 
 464   1         for(s=0;s<16;s++)
 465   1         {
 466   2           lcd_wdat(0x40+s); 
 467   2         }
 468   1         lcd_wcmd(0x88);        //设置显示位置为第三行  
 469   1         for(s=0;s<16;s++)
 470   1         {
 471   2           lcd_wdat(0x50+s); 
 472   2         }
 473   1         lcd_wcmd(0x98);       //设置显示位置为第四行   
 474   1         for(s=0;s<16;s++)
 475   1         {
 476   2           lcd_wdat(0x60+s); 
 477   2         }
 478   1      }
 479          /*********************************************************
 480          *                                                        *
 481          * 主函数                                                 *
 482          *                                                        *
 483          *********************************************************/
 484          void main()
 485          {
 486   1         unsigned char code  hz[]={"中国"};
 487   1         uchar i,j=0x37;
 488   1      /*
 489   1         while(1)
C51 COMPILER V9.01   12864                                                                 05/24/2015 11:27:02 PAGE 9   

 490   1         {
 491   1                      i=change(j);
 492   1         }
 493   1      */
 494   1         delay(100);                 //上电，等待稳定
 495   1         lcd_init();                 //初始化LCD
 496   1      
 497   1      //   i= change(0x83);
 498   1      /*
 499   1         lcd_wcmd(0x81);       //设置显示位置为第四行
 500   1         lcd_wdat(hz[0]);   
 501   1         lcd_wdat(hz[1]);
 502   1      
 503   1         lcd_wcmd(0x92);       //设置显示位置为第四行
 504   1           
 505   1         lcd_wdat(hz[2]);   
 506   1         lcd_wdat(hz[3]);   
 507   1       
 508   1         while(1);
 509   1      */
 510   1         while(1)
 511   1         {
 512   2      
 513   2           lcd_pos(1,0);             //设置显示位置为第一行
 514   2           for(i=0;i<16;i++)
 515   2           {
 516   3             lcd_wdat(DIS1[i]);
 517   3             delay(30);
 518   3           }
 519   2      
 520   2           lcd_pos(2,0);             //设置显示位置为第二行
 521   2           for(i=0;i<16;i++)
 522   2           {
 523   3             lcd_wdat(DIS2[i]);
 524   3             delay(30);
 525   3           }
 526   2           lcd_pos(3,0);             //设置显示位置为第三行
 527   2           for(i=0;i<16;i++)
 528   2           {
 529   3             lcd_wdat(DIS3[i]);
 530   3             delay(30);
 531   3           }
 532   2           lcd_pos(4,0);             //设置显示位置为第四行
 533   2           for(i=0;i<16;i++)
 534   2           {
 535   3             lcd_wdat(DIS4[i]);
 536   3             delay(30);
 537   3           }
 538   2      /*
 539   2               while(1);
 540   2      */
 541   2           delay(1000);
 542   2      //     lcdflag();
 543   2      //     clr_screen();             //清屏        
 544   2      //     photodisplay(Photo1);     //显示图片1
 545   2      //     delay(2000);    
 546   2           clr_screen();             //清屏
 547   2           photodisplay(Photo2);     //显示图片2
 548   2           delay(6000);
 549   2           bytecode();               //显示字符表代码
 550   2           delay(2000);
 551   2           clr_screen();  
C51 COMPILER V9.01   12864                                                                 05/24/2015 11:27:02 PAGE 10  

 552   2         }
 553   1      }
*** WARNING C280 IN LINE 486 OF 12864.C: 'hz': unreferenced local variable
 554          /*********************************************************/
 555          
 556          
 557          
 558          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    732    ----
   CONSTANT SIZE    =   2121    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       8
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----       1
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
