C51 COMPILER V9.01   12864                                                                 06/18/2015 20:04:05 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE 12864
OBJECT MODULE PLACED IN 12864.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE 12864.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /*******************************************************************************
   2          *  描述:                                                                       *
   3          *      12864标准字库液晶演示 数据p0,控制p2  
   4          *
   5          *     LCD_PIN4(RS)     P2.6
   6          *         LCD_PIN5(RW)     P2.5
   7          *     LCD_PIN6(E)      P2.7                                     
   8          *
   9          *         LCD_PIN15(PSB)   P3.2
  10          *         LCD_PIN16(NC)    P3.3
  11          *         LCD_PIN17(RST)   P3.4
  12          ********************************************************************************/
  13          #include <reg51.h>
  14          #include <intrins.h>
  15          #define uchar unsigned char
  16          #define uint  unsigned int
  17          /************* 12864LCD引脚定义 *************/
  18          #define LCD_data  P0       //数据口
  19          sbit LCD_RS  =  P2^6;      //寄存器选择输入 
  20          sbit LCD_RW  =  P2^5;      //液晶读/写控制
  21          sbit LCD_EN  =  P2^7;      //液晶使能控制
  22          sbit LCD_PSB =  P3^2;      //串/并方式控制
  23          //sbit LCD_RST =  P3^7;      //液晶复位端口
  24          
  25          
  26          #define delayNOP(); {_nop_();_nop_();_nop_();_nop_();};
  27          /*********************************************************/
  28          uchar code  DIS1[] = {"    普中科技    "};
  29          uchar code  DIS2[] = {"进入单片机世界  "};
  30          uchar code  DIS3[] = {"www.prechin.com "};
  31          uchar code  DIS4[] = {"TEL:755-29325187"};
  32          /*********************************************************/
  33          uchar code Photo1[] ={
  34                0x00,0x00,0x00,0x04,0x00,0x00,0x00,0x00,
  35                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  36                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  37                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  38                0x00,0x00,0x00,0x00,0x00,0x01,0x3F,0xC0,
  39                0x80,0x42,0x04,0x20,0x00,0x00,0x00,0x00,
  40                0x00,0x00,0x00,0x00,0x00,0x00,0x8A,0x1F,
  41                0xFC,0x42,0x04,0xF8,0x00,0x00,0x00,0x00,
  42                0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x80,
  43                0x01,0xFF,0xDE,0x88,0x00,0x00,0x00,0x00,
  44                0x00,0x00,0x00,0x00,0x00,0x01,0x2A,0x87,
  45                0xF0,0xA2,0x0A,0xF8,0x00,0x00,0x00,0x00,
  46                0x00,0x00,0x00,0x00,0x00,0x00,0xBF,0x84,
  47                0x10,0xA2,0x0A,0x88,0x00,0x00,0x00,0x00,
  48                0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x1F,
  49                0xFC,0xA2,0x0A,0xF8,0x00,0x00,0x00,0x00,
  50                0x00,0x00,0x00,0x00,0x00,0x00,0x9F,0x90,
  51                0x05,0x2F,0xCA,0xA4,0x00,0x00,0x00,0x00,
  52                0x00,0x00,0x00,0x00,0x00,0x01,0x80,0x03,
  53                0xE1,0xA8,0x4A,0xA8,0x00,0x00,0x00,0x00,
  54                0x00,0x00,0x00,0x00,0x00,0x00,0xBF,0xC2,
  55                0x24,0x48,0x44,0x90,0x00,0x00,0x00,0x00,
C51 COMPILER V9.01   12864                                                                 06/18/2015 20:04:05 PAGE 2   

  56                0x00,0x00,0x00,0x00,0x00,0x00,0x92,0x84,
  57                0x24,0xA8,0x4A,0xA8,0x00,0x00,0x00,0x00,
  58                0x00,0x00,0x00,0x00,0x00,0x00,0xA6,0x58,
  59                0x3D,0x0F,0xD0,0xC4,0x00,0x00,0x00,0x00,
  60                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  61                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  62                0x00,0x1C,0xFF,0xC0,0x00,0x00,0x00,0x00,
  63                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  64                0x00,0x23,0x08,0x37,0x80,0x00,0x00,0x00,
  65                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  66                0x00,0x40,0x10,0x08,0x40,0x00,0xFF,0x90,
  67                0x10,0x08,0x00,0x00,0x00,0x00,0x00,0x00,
  68                0x00,0x81,0x86,0x10,0x40,0x00,0x08,0x08,
  69                0x10,0xFF,0x86,0x00,0x00,0x00,0x00,0x00,
  70                0x01,0x02,0x49,0x40,0x40,0x00,0x7F,0x0B,
  71                0xFC,0x08,0x0F,0x00,0x00,0x00,0x00,0x00,
  72                0x01,0x08,0x00,0x40,0x20,0x00,0x10,0x00,
  73                0x10,0x49,0x0F,0x00,0x00,0x00,0x00,0x00,
  74                0x02,0x08,0x00,0x20,0x20,0x01,0xFF,0xDD,
  75                0x10,0x2A,0x0F,0x00,0x00,0x00,0x00,0x00,
  76                0x04,0x31,0x83,0x20,0x20,0x00,0x20,0x04,
  77                0x91,0xFF,0xC6,0x00,0x00,0x00,0x00,0x00,
  78                0x04,0x52,0x44,0x90,0x20,0x00,0x7F,0x04,
  79                0x90,0x1C,0x06,0x00,0x00,0x00,0x00,0x00,
  80                0x09,0xA4,0x28,0x4C,0x10,0x00,0xA1,0x04,
  81                0x10,0x2A,0x00,0x00,0x00,0x00,0x00,0x00,
  82                0x0E,0x44,0xE9,0xC3,0x90,0x01,0x3F,0x04,
  83                0x70,0x49,0x06,0x00,0x00,0x00,0x00,0x00,
  84                0x00,0x82,0xC5,0x81,0x70,0x00,0x21,0x0A,
  85                0x01,0x88,0xC6,0x00,0x00,0x00,0x00,0x00,
  86                0x01,0x01,0x83,0x00,0x80,0x00,0x3F,0x11,
  87                0xFC,0x08,0x00,0x00,0x00,0x00,0x00,0x00,
  88                0x01,0x0C,0x70,0x00,0x80,0x00,0x00,0x00,
  89                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  90                0x02,0x13,0x87,0x10,0x40,0x00,0x00,0x00,
  91                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  92                0x02,0x20,0x78,0xA0,0x40,0x00,0x00,0x00,
  93                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  94                0x02,0x20,0x00,0x60,0x40,0x00,0x00,0x00,
  95                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  96                0x02,0x21,0x80,0x60,0x40,0x00,0x00,0x71,
  97                0xEE,0x3C,0x00,0x00,0x00,0x00,0x00,0x00,
  98                0x01,0x11,0x98,0x90,0x80,0x00,0x00,0x8E,
  99                0x31,0xC6,0x00,0x00,0x00,0x00,0x00,0x00,
 100                0x01,0x08,0x18,0x80,0x80,0x00,0x01,0x24,
 101                0x24,0x83,0x00,0x00,0x00,0x00,0x00,0x00,
 102                0x00,0x96,0x01,0x01,0x00,0x00,0x01,0x40,
 103                0x28,0x03,0x00,0x00,0x00,0x00,0x00,0x00,
 104                0x00,0x49,0x86,0x03,0x00,0x00,0x01,0x40,
 105                0x28,0x03,0x00,0x00,0x00,0x00,0x00,0x00,
 106                0x00,0x34,0x78,0x8C,0x00,0x00,0x01,0x00,
 107                0x20,0x03,0x00,0x00,0x00,0x00,0x00,0x00,
 108                0x00,0x0E,0x01,0x30,0x00,0x00,0x00,0x80,
 109                0x30,0x06,0x00,0x00,0x00,0x00,0x00,0x00,
 110                0x00,0x71,0x87,0xCE,0x00,0x00,0x00,0x40,
 111                0x68,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,
 112                0x00,0xE0,0x78,0x07,0x00,0x00,0x00,0x20,
 113                0xC4,0x18,0x00,0x00,0x00,0x00,0x00,0x00,
 114                0x01,0xAF,0xFF,0xC5,0x80,0x00,0x00,0x11,
 115                0x82,0x30,0x00,0x00,0x00,0x00,0x00,0x00,
 116                0x03,0xA9,0xB6,0x45,0xC0,0x00,0x00,0x0B,
 117                0x01,0x60,0x00,0x00,0x00,0x00,0x00,0x00,
C51 COMPILER V9.01   12864                                                                 06/18/2015 20:04:05 PAGE 3   

 118                0x07,0x2F,0x03,0xC4,0xE0,0x00,0x00,0x06,
 119                0x00,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,
 120                0x0E,0x16,0x01,0x88,0x70,0x00,0x00,0x00,
 121                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 122                0x0F,0x08,0x00,0x10,0xF0,0x00,0x00,0x00,
 123                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 124                0x0F,0x84,0x00,0x21,0xF0,0x00,0x00,0x00,
 125                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 126                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 127                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 128                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 129                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 130                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 131                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 132                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 133                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 134                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 135                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 136                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 137                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 138                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 139                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 140                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 141                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 142                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 143                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 144                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 145                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 146                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 147                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 148                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 149                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 150                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 151                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 152                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 153                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 154                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 155                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 156                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 157                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 158                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 159                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 160                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 161                0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
 162          };
 163          /******************************************************************************/
 164          uchar code Photo2[] ={
 165          /*--  调入了一幅图像：C:\Users\Administrator\Desktop\资料\自动化.bmp  --*/
 166          /*--  宽度x高度=128x64  --*/
 167          0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,
 168          0x07,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xE0,
 169          0x1F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF0,
 170          0x3F,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFC,
 171          0x7F,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0xFE,
 172          0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,
 173          0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,
 174          0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,
 175          0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,
 176          0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,
 177          0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
 178          0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
 179          0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
C51 COMPILER V9.01   12864                                                                 06/18/2015 20:04:05 PAGE 4   

 180          0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
 181          0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
 182          0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
 183          0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
 184          0xE0,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
 185          0xE0,0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0x01,0x80,0x00,0x10,0x38,0x00,0x00,0x07,
 186          0xE0,0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0x03,0x80,0x00,0x3C,0x30,0x00,0x00,0x07,
 187          0xE0,0x00,0x00,0x01,0xC0,0x00,0x00,0x00,0x03,0x00,0x00,0x70,0x30,0x00,0x00,0x07,
 188          0xE0,0x00,0x00,0x01,0x80,0x00,0x03,0xFF,0x03,0x00,0x00,0x60,0x70,0x00,0x00,0x07,
 189          0xE0,0x00,0x00,0xFF,0xFF,0xF0,0x07,0xFF,0x07,0x00,0x00,0xE0,0x60,0x60,0x00,0x07,
 190          0xE0,0x00,0x00,0xFF,0xFF,0xF0,0x00,0x00,0x06,0x00,0x01,0xC0,0x60,0xF0,0x00,0x07,
 191          0xE0,0x00,0x00,0xC0,0x00,0x60,0x00,0x00,0xFF,0xF8,0x03,0x80,0xE1,0xE0,0x00,0x07,
 192          0xE0,0x00,0x01,0xC0,0x00,0x60,0x00,0x01,0xFF,0xF8,0x07,0x80,0xC3,0x80,0x00,0x07,
 193          0xE0,0x00,0x01,0x80,0x00,0xE0,0x00,0x00,0x0C,0x30,0x0F,0x80,0xC7,0x00,0x00,0x07,
 194          0xE0,0x00,0x01,0x80,0x00,0xC0,0x3F,0xFE,0x0C,0x30,0x1F,0x01,0xDE,0x00,0x00,0x07,
 195          0xE0,0x00,0x03,0xFF,0xFF,0xC0,0x3F,0xFE,0x18,0x70,0x3F,0x01,0xF8,0x00,0x00,0x07,
 196          0xE0,0x00,0x03,0x00,0x01,0xC0,0x03,0x80,0x18,0x60,0xF7,0x01,0xF0,0x00,0x00,0x07,
 197          0xE0,0x00,0x03,0x00,0x01,0x80,0x03,0x00,0x38,0x60,0x66,0x03,0xC0,0x00,0x00,0x07,
 198          0xE0,0x00,0x07,0x00,0x01,0x80,0x06,0x00,0x30,0xE0,0x06,0x07,0x80,0x00,0x00,0x07,
 199          0xE0,0x00,0x06,0x00,0x03,0x80,0x0E,0x20,0x70,0xC0,0x0E,0x1F,0x00,0x00,0x00,0x07,
 200          0xE0,0x00,0x07,0xFF,0xFF,0x00,0x1C,0x70,0x61,0xC0,0x0C,0x7F,0x00,0x00,0x00,0x07,
 201          0xE0,0x00,0x0F,0xFF,0xFF,0x00,0x18,0x70,0xE1,0x80,0x0D,0xF6,0x00,0x00,0x00,0x07,
 202          0xE0,0x00,0x0C,0x00,0x07,0x00,0x30,0x70,0xC1,0x80,0x1D,0xC6,0x00,0x00,0x00,0x07,
 203          0xE0,0x00,0x0C,0x00,0x06,0x00,0x60,0xF1,0x83,0x80,0x19,0x0E,0x00,0x00,0x00,0x07,
 204          0xE0,0x00,0x1C,0x00,0x06,0x01,0xFF,0xF3,0x83,0x00,0x18,0x0C,0x00,0x00,0x00,0x07,
 205          0xE0,0x00,0x18,0x00,0x0E,0x01,0xFE,0x3F,0x03,0x00,0x38,0x0C,0x07,0x00,0x00,0x07,
 206          0xE0,0x00,0x1F,0xFF,0xFC,0x01,0x80,0x2E,0x06,0x00,0x30,0x1C,0x07,0x00,0x00,0x07,
 207          0xE0,0x00,0x3F,0xFF,0xFC,0x00,0x00,0x1C,0x0E,0x00,0x30,0x1C,0x0E,0x00,0x00,0x07,
 208          0xE0,0x00,0x30,0x00,0x1C,0x00,0x00,0x38,0xFC,0x00,0x70,0x1F,0xFC,0x00,0x00,0x07,
 209          0xE0,0x00,0x70,0x00,0x18,0x00,0x00,0xF0,0x78,0x00,0x60,0x1F,0xF8,0x00,0x00,0x07,
 210          0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
 211          0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
 212          0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
 213          0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
 214          0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
 215          0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
 216          0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
 217          0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
 218          0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
 219          0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
 220          0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
 221          0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,
 222          0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,
 223          0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,
 224          0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,
 225          0xFF,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xFE,
 226          0x7F,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0xFC,
 227          0x1F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF8,
 228          0x0F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xE0,
 229          0x03,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xC0,
 230          0x00,0x7F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFE,0x00
 231          
 232          };
 233          /*******************************************************************/
 234          /*                                                                 */
 235          /*  延时函数                                                       */
 236          /*                                                                 */
 237          /*******************************************************************/
 238          void delay(int ms)
 239          {
 240   1          while(ms--)
 241   1              {
C51 COMPILER V9.01   12864                                                                 06/18/2015 20:04:05 PAGE 5   

 242   2            uchar i;
 243   2                for(i=0;i<150;i++)  
 244   2                 {
 245   3                  _nop_();                       
 246   3                      _nop_();
 247   3                      _nop_();
 248   3                      _nop_();
 249   3                 }
 250   2              }
 251   1      }       
 252          /*******************************************************************/
 253          /*                                                                 */
 254          /*  延时函数                                                       */
 255          /*                                                                 */
 256          /*******************************************************************/
 257          void delay1(int ms)
 258          {
 259   1          while(ms--)
 260   1              {
 261   2            uchar y;
 262   2                for(y=0;y<100;y++) ; 
 263   2              }
 264   1      }                       
 265          /*******************************************************************/
 266          /*                                                                 */
 267          /*检查LCD忙状态                                                    */
 268          /*lcd_busy为1时，忙，等待。lcd-busy为0时,闲，可写指令与数据。      */
 269          /*                                                                 */
 270          /*******************************************************************/
 271          bit lcd_busy()
 272           {                          
 273   1          bit result;
 274   1          LCD_RS = 0;
 275   1          LCD_RW = 1;
 276   1          LCD_EN = 1;
 277   1          delayNOP();
 278   1          result = (bit)(P0&0x80);
 279   1          LCD_EN = 0;
 280   1          return(result); 
 281   1       }
 282          /*******************************************************************/
 283          /*                                                                 */
 284          /*写指令数据到LCD                                                  */
 285          /*RS=L，RW=L，E=高脉冲，D0-D7=指令码。                             */
 286          /*                                                                 */
 287          /*******************************************************************/
 288          void lcd_wcmd(uchar cmd)
 289          {                          
 290   1         while(lcd_busy());
 291   1          LCD_RS = 0;
 292   1          LCD_RW = 0;
 293   1          LCD_EN = 0;
 294   1          _nop_();
 295   1          _nop_(); 
 296   1          P0 = cmd;
 297   1          delayNOP();
 298   1          LCD_EN = 1;
 299   1          delayNOP();
 300   1          LCD_EN = 0;  
 301   1      }
 302          /*******************************************************************/
 303          /*                                                                 */
C51 COMPILER V9.01   12864                                                                 06/18/2015 20:04:05 PAGE 6   

 304          /*写显示数据到LCD                                                  */
 305          /*RS=H，RW=L，E=高脉冲，D0-D7=数据。                               */
 306          /*                                                                 */
 307          /*******************************************************************/
 308          void lcd_wdat(uchar dat)
 309          {                          
 310   1         while(lcd_busy());
 311   1          LCD_RS = 1;
 312   1          LCD_RW = 0;
 313   1          LCD_EN = 0;
 314   1          P0 = dat;
 315   1          delayNOP();
 316   1          LCD_EN = 1;
 317   1          delayNOP();
 318   1          LCD_EN = 0; 
 319   1      }
 320          /*******************************************************************/
 321          /*                                                                 */
 322          /*  LCD初始化设定                                                  */
 323          /*                                                                 */
 324          /*******************************************************************/
 325          void lcd_init()
 326          { 
 327   1          LCD_PSB = 1;         //并口方式
 328   1          
 329   1      //      LCD_RST = 0;             //液晶复位
 330   1      //    delay(3);                   
 331   1      //   LCD_RST = 1;      
 332   1      //    delay(3);
 333   1          
 334   1          lcd_wcmd(0x34);      //扩充指令操作
 335   1          delay(5);
 336   1          lcd_wcmd(0x30);      //基本指令操作
 337   1          delay(5);
 338   1          lcd_wcmd(0x0c);      //显示开，关光标
 339   1          delay(5);
 340   1          lcd_wcmd(0x01);      //清除LCD的显示内容
 341   1          delay(5);
 342   1      }
 343          /*********************************************************/
 344          /*                                                       */
 345          /* 设定显示位置                                          */
 346          /*                                                       */
 347          /*********************************************************/
 348          void lcd_pos(uchar X,uchar Y)
 349          {                          
 350   1         uchar  pos;
 351   1         if (X==1)
 352   1           {X=0x80;}
 353   1         else if (X==2)
 354   1           {X=0x90;}
 355   1         else if (X==3)
 356   1           {X=0x88;}
 357   1         else if (X==4)
 358   1           {X=0x98;}
 359   1         pos = X+Y ; 
 360   1       
 361   1         lcd_wcmd(pos);     //显示地址
 362   1      }
 363          /*********************************************************
 364          *                                                        *
 365          * 闪烁函数                                               *
C51 COMPILER V9.01   12864                                                                 06/18/2015 20:04:05 PAGE 7   

 366          *                                                        *
 367          *********************************************************/
 368          void lcdflag() 
 369          {
 370   1         lcd_wcmd(0x08);   
 371   1         delay(400);
 372   1         lcd_wcmd(0x0c);   
 373   1         delay(400);
 374   1         lcd_wcmd(0x08);   
 375   1         delay(400);
 376   1         lcd_wcmd(0x0c);   
 377   1         delay(400);
 378   1         lcd_wcmd(0x08);   
 379   1         delay(200); 
 380   1         lcd_wcmd(0x0c);   
 381   1         delay(5);
 382   1         lcd_wcmd(0x01);   
 383   1         delay(5);
 384   1      }
 385          /*********************************************************
 386          *                                                        *
 387          * 图形显示                                               *
 388          *                                                        *
 389          *********************************************************/
 390          void photodisplay(uchar *bmp)   
 391          { 
 392   1        uchar i,j;
 393   1      
 394   1        lcd_wcmd(0x34);        //写数据时,关闭图形显示
 395   1      
 396   1        for(i=0;i<32;i++)
 397   1        {
 398   2          lcd_wcmd(0x80+i);    //先写入水平坐标值
 399   2          lcd_wcmd(0x80);      //写入垂直坐标值
 400   2          for(j=0;j<16;j++)   //再写入两个8位元的数据    
 401   2          lcd_wdat(*bmp++);     
 402   2          delay1(1);
 403   2        }
 404   1      
 405   1        for(i=0;i<32;i++)
 406   1        { 
 407   2          lcd_wcmd(0x80+i);
 408   2          lcd_wcmd(0x88);
 409   2          for(j=0;j<16;j++)         
 410   2              lcd_wdat(*bmp++);    
 411   2              delay1(1);
 412   2        }
 413   1        lcd_wcmd(0x36);       //写完数据,开图形显示 
 414   1      }
 415          /*********************************************************
 416          *                                                        *
 417          * 清屏函数                                               *
 418          *                                                        *
 419          *********************************************************/
 420          void  clr_screen()
 421          {
 422   1         lcd_wcmd(0x34);      //扩充指令操作
 423   1         delay(5);    
 424   1         lcd_wcmd(0x30);      //基本指令操作
 425   1         delay(5); 
 426   1         lcd_wcmd(0x01);      //清屏 
 427   1         delay(5);     
C51 COMPILER V9.01   12864                                                                 06/18/2015 20:04:05 PAGE 8   

 428   1      }
 429          /**********************************************************
 430          ; 显示字符表代码
 431          **********************************************************/
 432          void  bytecode()
 433          {
 434   1         uchar  s;
 435   1         clr_screen();          //清屏    
 436   1         lcd_wcmd(0x80);        //设置显示位置为第一行  
 437   1         for(s=0;s<16;s++)
 438   1         {
 439   2           lcd_wdat(0x30+s); 
 440   2         }
 441   1         lcd_wcmd(0x90);        //设置显示位置为第二行 
 442   1         for(s=0;s<16;s++)
 443   1         {
 444   2           lcd_wdat(0x40+s); 
 445   2         }
 446   1         lcd_wcmd(0x88);        //设置显示位置为第三行  
 447   1         for(s=0;s<16;s++)
 448   1         {
 449   2           lcd_wdat(0x50+s); 
 450   2         }
 451   1         lcd_wcmd(0x98);       //设置显示位置为第四行   
 452   1         for(s=0;s<16;s++)
 453   1         {
 454   2           lcd_wdat(0x60+s); 
 455   2         }
 456   1      }
 457          /*********************************************************
 458          *                                                        *
 459          * 主函数                                                 *
 460          *                                                        *
 461          *********************************************************/
 462          void main()
 463          {
 464   1         unsigned char code  hz[]={"中国"};
 465   1         uchar i;
 466   1         delay(100);                 //上电，等待稳定
 467   1         lcd_init();                 //初始化LCD
 468   1      /*
 469   1         lcd_wcmd(0x81);       //设置显示位置为第四行
 470   1         lcd_wdat(hz[0]);   
 471   1         lcd_wdat(hz[1]);
 472   1      
 473   1         lcd_wcmd(0x92);       //设置显示位置为第四行
 474   1           
 475   1         lcd_wdat(hz[2]);   
 476   1         lcd_wdat(hz[3]);   
 477   1       
 478   1         while(1);
 479   1      */
 480   1         while(1)
 481   1         {
 482   2      
 483   2           lcd_pos(1,0);             //设置显示位置为第一行
 484   2           for(i=0;i<16;i++)
 485   2           {
 486   3             lcd_wdat(DIS1[i]);
 487   3             delay(30);
 488   3           }
 489   2      
C51 COMPILER V9.01   12864                                                                 06/18/2015 20:04:05 PAGE 9   

 490   2           lcd_pos(2,0);             //设置显示位置为第二行
 491   2           for(i=0;i<16;i++)
 492   2           {
 493   3             lcd_wdat(DIS2[i]);
 494   3             delay(30);
 495   3           }
 496   2           lcd_pos(3,0);             //设置显示位置为第三行
 497   2           for(i=0;i<16;i++)
 498   2           {
 499   3             lcd_wdat(DIS3[i]);
 500   3             delay(30);
 501   3           }
 502   2           lcd_pos(4,0);             //设置显示位置为第四行
 503   2           for(i=0;i<16;i++)
 504   2           {
 505   3             lcd_wdat(DIS4[i]);
 506   3             delay(30);
 507   3           }
 508   2      /*
 509   2               while(1);
 510   2      */
 511   2           delay(1000);
 512   2           lcdflag();
 513   2           clr_screen();             //清屏        
 514   2           photodisplay(Photo1);     //显示图片1
 515   2           delay(2000);    
 516   2           clr_screen();             //清屏
 517   2           photodisplay(Photo2);     //显示图片2
 518   2           delay(2000);
 519   2           bytecode();               //显示字符表代码
 520   2           delay(2000);
 521   2           clr_screen();  
 522   2         }
 523   1      }
*** WARNING C280 IN LINE 464 OF 12864.C: 'hz': unreferenced local variable
 524          /*********************************************************/
 525          
 526          
 527          
 528          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    697    ----
   CONSTANT SIZE    =   2121    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       6
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----       1
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
